<div class="page--title--container">
<h3>Users</h3>
<p-button label="Add User" icon="pi pi-plus" (onClick)="showDialog()" severity="primary"></p-button>
</div>
<div>
  <p-progressSpinner *ngIf="isLoading"></p-progressSpinner>
  <p-table [value]="employees" [tableStyle]="{ 'min-width': '50rem' }" *ngIf="!isLoading">
    <ng-template pTemplate="header">
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.first_name }}</td>
        <td>{{ user.last_name }}</td>
        <td>
          <div class="d-flex gap-1" style="display: flex;gap:5px">
            <p-button label="Edit" icon="pi pi-pencil" severity="info" [outlined]="true"></p-button>
            <p-button label="Delete" icon="pi pi-trash" severity="danger" [outlined]="true"></p-button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
  
  <p-paginator 
    *ngIf="!isLoading" 
    [rows]="size" 
    [totalRecords]="total" 
    [rowsPerPageOptions]="[5, 10, 20]" 
    (onPageChange)="onPageChange($event)">
  </p-paginator>
</div>

<!-- Add User Dialog -->
<app-add-user 
  [visible]="addUserVisible" 
  [userData]="{ isEdit: isEdit, userForm: userForm }" 
  (closeModal)="onAddUserClose($event)">
</app-add-user>

<p-toast></p-toast>
